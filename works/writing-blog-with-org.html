<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

  <?xml version="1.0" encoding="utf-8"?>
  <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

  <head>
    <title>Mdk-Memo</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="generator" content="ruby template engine" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel="stylesheet"
          href="/css/sitemap.css"
          type="text/css"/>
    <script type="text/javascript"
	    src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" 
            src="/js/index.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-107284492-2"></script>
    <script>
     window.dataLayer = window.dataLayer || [];
     function gtag(){dataLayer.push(arguments);}
     gtag('js', new Date());

     gtag('config', 'UA-107284492-2');
    </script> 
    
      <script type="text/javascript" src="https://s.hatena.ne.jp/js/HatenaStar.js"></script>
      <script type="text/javascript">
       Hatena.Star.Token = 'de588734a2b0daf8d8413b7d14368db576d53567';
       Hatena.Star.SiteConfig = {
	   entryNodes: {
	       'article': {
		   uri: 'div#url',
		   title: 'h2',
		   container: 'h2'
	       }
	   }
       };
      </script>
    
  </head>
  
  <body>
    <HEADER>
      <H1 class="title"> Mdk-Memo </H1>
      <nav>
	<ul>
	  <li class="menu" id="menu-articles"><a href="/works">WORKS</a></li>
	  <li class="menu"><a href="/diary">DIARY</a></li>
	  <li class="menu" id="menu-aboutme"><a href="/about">ABOUT</a></li>
	  
	</ul>
      </nav>
    </HEADER>
    <article id="main-article">
      <div id="url" style="display:none;">https://medaka.github.io//works/writing-blog-with-org.html</div>
      <h2 id="0">Writing Blog with org-mode</h2>
<span class="timestamp">[2018-09-14 Fri]</span>
<h3>Your Life in Plain Text</h3>
<p>This blog is written in <a href="https://orgmode.org/">org-mode</a>.</p>
<p>Org-mode is a strucutred text format like markdown.
  Org-mode and Emacs make our writing environment very confortable.</p>
<p>Emacs also has a exporting feature that publishes many format
  including pdf, latex and html.
  Emacs supports <a href="https://orgmode.org/manual/Sitemap.html">site-map</a> feature so that we can export static site with
  articles and an index.html by one command.</p>
<p>Actually, there are many <a href="https://ambrevar.xyz/blog-architecture/">writers who love org-mode.</a>
  And they heavily customize org-mode with elisp.</p>
<h3>Painful elisp</h3>
<p>Despite, learning and writing elisp is quite painful.</p>
<p>Org-mode seems to be written in elisp.
  We have to customize it with elisp.
  Elisp is too much hard to learn
  to just customize personal blog.</p>
<p>I gave up.</p>
<h3>Frameworks</h3>
<p>There are many frameworks to generate static blogs:</p>
<ul>
  <li><a href="https://jekyllrb.com/">jekyll</a></li>
  <li><a href="https://gohugo.io/">Hugo</a></li>
  <li>etc..</li>
</ul>
<p><a href="http://www.gonsie.com/blorg/survey-org-jekyll.html">Some</a> use these frameworks to export orgs.</p>
<p>They cover what I want to do. But I felt they are
  too much to build my small personal blog.
  Who wants to kick a web server to preview articles?</p>
<h3>Ruby</h3>
<p>I love ruby and rails.
  This is simple and painless solution for me
  because ruby has many libraries to
  process texts and htmls.</p>
<h4>ERB</h4>
<p>Ruby has an erb template engine.</p>
<p>I inserted HTML files from org to templates.
  It is quite easy way.</p>
<h4>org-ruby</h4>
<p><a href="https://github.com/wallyqs/org-ruby">Org-ruby</a> is a library for ruby
  to parse and export orgs.
  I cant insert some ids and classes into generated HTML
  to customize apearances and behaviors while
  parsing org files.</p>
<h3>Codes</h3>
<p>These are conceptual pseudocode samples.</p>
<p>Erb templtes should be like this:</p>
<pre class="src">
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; lang=&quot;en&quot; xml:lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;title&gt;YOUR TITLE&lt;/title&gt;
  &lt;/head&gt;
  
  &lt;body&gt;
    &lt;HEADER&gt;
      &lt;H1 class=&quot;title&quot;&gt; BLOG TITLE &lt;/H1&gt;
    &lt;/HEADER&gt;
    &lt;article id=&quot;main-article&quot;&gt;
      &lt;%= @html %&gt;
    &lt;/article&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
<p><code>@html</code> is a strings which contains html code.
  Ruby generate <code>@html</code> like this:</p>
<pre class="src">
data = IO.read(filename)
@html = Orgmode::Parser.new(data, { markup_file: &quot;html.tags.yml&quot; })
          .to_html
          .split(&quot;\n&quot;).map { |line|
             # processing
             line = some_process line
             line
           }.join(&quot;\n&quot;)
</pre>
<h3>Conclusion</h3>
<p>Finally, I&#8217;ve wrote blog form scratch.
  so I understand every inch of my scripts.
  If I want some features, I code.
  That&#8217;s simple.
  That&#8217;s how programmers should be.</p>
<p>I&#8217;ve not uploaded codes to github or any repositories.
  My blogging scripts quite dependent on my system.
  I have to generalize it to publish it.</p>
    </article>
    
    
      <div class="disqus-wrapper">
	<div id="disqus_thread"></div>
      </div>
	<script>
     

     /**
      *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
      *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

     var disqus_config = function () {
	 this.page.url = "https://medaka.github.io//works/writing-blog-with-org.html";  // Replace PAGE_URL with your page's canonical URL variable
 	 this.page.identifier = "https://medaka.github.io//works/writing-blog-with-org.html"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
     };

     (function() { // DON'T EDIT BELOW THIS LINE
	 var d = document, s = d.createElement('script');
	 s.src = 'https://https-medaka-github-io.disqus.com/embed.js';
	 s.setAttribute('data-timestamp', +new Date());
	 (d.head || d.body).appendChild(s);
     })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    
    <footer>
      <nav class="footer">
	<ul>
	  <li class="back"><a href="/">BACK</a></li>
	</ul>
	<p class="copyright">Copyright 2018</p>
      </nav>
    </footer>
  </body>
</html>


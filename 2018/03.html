<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>03</title>
<!-- 2018-04-15 Sun 19:07 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">03</h1>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">ハード目な日々</h2>
<div class="outline-text-2" id="text-1">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2018-03-05 Mon]</span></span>
</p>

<p>
ちょっと忙しいとここを書くこともさぼってしまう。
あまりよくない。
ココに使ってるスクリプトも書き直そうと思っているのに、
なかなかできないでいる。。
</p>

<p>
会社にいる間には、あれやろう、これやろうとモチベーションが
上がったりなんかするんだけど、やっぱり家帰って晩御飯をたべると
途端にやる気を失ってしまう。
</p>

<p>
こにふぁー氏のブログにも同じようなことが書いてある
</p>

<p>
<a href="http://konifar.hatenablog.com/entry/2015/06/25/041721">
帰宅前の溢れるやる気を持続させる</a>
</p>

<blockquote>
<p>
仕事でも個人の活動でも「今日は家帰ったら朝までやってやるぜ」みたいな感じで、何でもできそうな気がするくらいやる気に満ちあふれるんですよね。
</p>
</blockquote>

<blockquote>
<p>
行動を書き出してみると何がダメかよくわかるんですけど、 家帰って最初に一息ついた時点で割と詰んでるんですよね。
</p>
</blockquote>

<p>
まあ、そのとおりなんだよね。
</p>

<p>
会社にMacbook Airでも持っていって、
帰りに作業するのも割りとアリなライフハックなんじゃないかと
思うこともある。
そうすると、どういう生活リズムにするかが問題になりそうだ。
すぐにいろいろ崩してしまいそうだ。
</p>


<p>
かといって、今のような繁忙期に第二の行動が取れるかというと、
かなり微妙なところだ。まあ、テスト工程にも入ってるし、
そのうちおわるんだろうけど。
</p>

<p>
−−&#x2014;
</p>

<p>
Stack Overflowを眺めていると、こんなStackExchangeがあることに気がついた
</p>

<p>
<a href="https://codegolf.stackexchange.com/">codegolf</a>
</p>

<p>
なんでもコードの短さを争うプログラミング種目(?)のようだ。
コードの短さを競うところから、点数が低いほうを勝者とする
ゴルフにあやかって、この競技名がついたみたい。
</p>


<p>
僕がみていたのはこんなのとか
</p>

<p>
<a href="https://codegolf.stackexchange.com/questions/156154/print-hey-jude-from-the-beatles">Print “Hey Jude” from The Beatles</a>
</p>

<p>
code golf用の<a href="https://github.com/Adriandmen/05AB1E">プログラミング言語</a> もあるようなんだけど、
やっぱり参考になるのはJavascriptとかRubyとかかなあ。
参考になりそうでならないような感じなんだけども。
</p>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Testnet</h2>
<div class="outline-text-2" id="text-2">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2018-03-09 Fri]</span></span>
</p>

<p>
Mastering Bitcoinをしばらく読んでいる。
</p>

<p>
今後何かしら実験することがあるかもしれないが、
そのときに実稼働しているBitcoinで取引するのは
気が引ける。
</p>

<p>
そのためにTestnetというテスト網があるようだ。
</p>

<p>
<a href="https://en.bitcoin.it/wiki/Testnet">Testnet | Bicoinwiki</a>
</p>

<p>
こいつを使うと、実害なくウォレットを実装できるかもしれない。
</p>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">サボタージュ</h2>
<div class="outline-text-2" id="text-3">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2018-03-19 Mon]</span></span>
</p>

<p>
油断するとすぐにサボってしまう。
</p>

<p>
Mastering Bitcoinを読了し、拾い読みをしている。
別の書籍に手をだすのもありだが.. 
今のところはGoogleにたより、情報源を色々拾っていきたいところ。
たまにQiitaには驚くような質の文書が投稿されていて、非常に参考になる。
一体彼らのモチベーションはどこからきているのだろうか。
</p>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">日付まわり</h2>
<div class="outline-text-2" id="text-4">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2018-03-24 Sat]</span></span>
</p>

<p>
Railsで日付まわりを操作するときに、いつも秒を定義して、たとえば
</p>

<pre class="example">
DAY_IN_SEC = 60 * 60 * 24 # 行頭で定義
Time.now - 10 * DAY_IN_SEC
</pre>

<p>
ってな感じで実装してたんだけど、おせっかいなRailsなんだし、
何かあるだろうと思ってみたら、あった。
</p>

<p>
<a href="https://qiita.com/ykyk1218/items/d5086dcb7618d4f918ec">すぐ忘れるので、RubyとRailsの日付操作周りについてまとめました | Qiita</a>
</p>

<p>
こりゃあ便利だ。
特に意外と使いみちがあるのは
</p>
<pre class="example">
Time.zone.now.ago(10.days).beginning_of_day
</pre>
<p>
みたいなやつだ。その日の <code>0:00:00</code> を返してくれる。
</p>

<p>
ここんとこの計算が毎回面倒だったんだよね。
</p>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">bitcoinj</h2>
<div class="outline-text-2" id="text-5">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2018-03-25 Sun]</span></span>
</p>

<p>
JavaでBitcoin関連のライブラリないかな、と探していた。
Androidでちょっと実験できたらいいな、と思ってみたり。
</p>

<p>
たどり着いたのは以下のbitcoinjというライブラリ
</p>

<ul class="org-ul">
<li>ドキュメント: <a href="https://bitcoinj.github.io/">https://bitcoinj.github.io/</a>
</li>
<li>github: <a href="https://github.com/bitcoinj/bitcoinj">https://github.com/bitcoinj/bitcoinj</a>
</li>
</ul>

<p>
ウォレットの参照実装がほしかったんだけど、
JavaFXで実装されたものがあるようだ。
</p>

<p>
<a href="https://github.com/bitcoinj/wallet-template">https://github.com/bitcoinj/wallet-template</a>
</p>

<p>
こいつを <code>mvn</code> コマンドでビルドしてみる。
が、エラーでビルドが通らない。
</p>

<p>
pom.xmlのパッケージ名に誤りがあるようだ。
64行目あたりで以下のように変更を加える。
</p>
<pre class="example">
  &lt;dependency&gt;
      &lt;groupId&gt;org.bitcoinj&lt;/groupId&gt;
      &lt;artifactId&gt;bitcoinj-core&lt;/artifactId&gt;
+     &lt;version&gt;0.13-SNAPSHOT&lt;/version&gt;
-      &lt;version&gt;0.13.6&lt;/version&gt;
  &lt;/dependency&gt;
</pre>
<p>
追従できてないだけかもしれないな。
ちなみに0.14.xってのもあったが、こちらはエラーをはいてだめだった。
</p>

<p>
順番は前後しちゃうんだけど、以下も。
</p>
<div class="org-src-container">

<pre class="src src-xml">&lt;configuration&gt;
    &lt;minimizeJar&gt;false&lt;/minimizeJar&gt;
    &lt;filters&gt;
	&lt;filter&gt;
	    &lt;!-- exclude signatures, the bundling process breaks them for some reason --&gt;
	    &lt;artifact&gt;*:*&lt;/artifact&gt;
	    &lt;excludes&gt;
		&lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;
		&lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;
		&lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;
	    &lt;/excludes&gt;
	&lt;/filter&gt;
    &lt;/filters&gt;
    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;
    &lt;shadedClassifierName&gt;bundled&lt;/shadedClassifierName&gt;
    &lt;transformers&gt;
	&lt;transformer implementation="org.apache.maven.plugins.shade.resource.ManifestResourceTransformer"&gt;
+           &lt;mainClass&gt;wallettemplate.Main&lt;/mainClass&gt;
-           &lt;mainClass&gt;${project.artifactId}.Main&lt;/mainClass&gt;
	&lt;/transformer&gt;
    &lt;/transformers&gt;
+   &lt;outputFile&gt;target/wallettemplate-shaded.jar&lt;/outputFile&gt;
-   &lt;outputFile&gt;target/${project.artifactId}-shaded.jar&lt;/outputFile&gt;
&lt;/configuration&gt;
</pre>
</div>
<p>
ここまで違うとコントリビュートしたほうがいいのかな..
まあ、でも3年前が最終更新だから仕方ないね。
</p>

<p>
ここまでして、以下でビルドして動かす。
</p>
<pre class="example">
$ mvn package
$ java -jar target/wallettemplate-shaded.jar
</pre>
</div>
</div>
</div>
</body>
</html>

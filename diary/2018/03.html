<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

  <?xml version="1.0" encoding="utf-8"?>
  <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

  <head>
    <title>Mdk-Memo</title>
    <meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta  name="generator" content="ruby template engine" />
    <link rel="stylesheet"
          href="../../css/sitemap.css"
          type="text/css"/>
    <script type="text/javascript"
	    src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" 
            src="/js/index.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-107284492-2"></script>
    <script>
     window.dataLayer = window.dataLayer || [];
     function gtag(){dataLayer.push(arguments);}
     gtag('js', new Date());

     gtag('config', 'UA-107284492-2');
    </script> 
    
  </head>
  
  <body>
    <HEADER>
      <nav>
	<ul>
	  <li class="menu"><a href="/diary">DIARY</a></li>
	  <li class="menu" id="menu-aboutme"><a href="/about">ABOUT</a></li>
	  
	  <li class="menu" id="menu-articles"><a href="/article">ARTICLES</a></li>
	</ul>
      </nav>
      <H1 class="title"> Mdk-Memo </H1>
    </HEADER>
    <article id="main-article">
      <div id="url" style="display:none;">https://medaka.github.io//diary/2018/03.html</div>
      <h2>ハード目な日々</h2>
<span class="timestamp">[2018-03-05 Mon]</span>
<p>ちょっと忙しいとここを書くこともさぼってしまう。
  あまりよくない。
  ココに使ってるスクリプトも書き直そうと思っているのに、
  なかなかできないでいる。。</p>
<p>会社にいる間には、あれやろう、これやろうとモチベーションが
  上がったりなんかするんだけど、やっぱり家帰って晩御飯をたべると
  途端にやる気を失ってしまう。</p>
<p>こにふぁー氏のブログにも同じようなことが書いてある</p>
<p><a href="http://konifar.hatenablog.com/entry/2015/06/25/041721">
  帰宅前の溢れるやる気を持続させる</a></p>
<blockquote>
  <p>仕事でも個人の活動でも「今日は家帰ったら朝までやってやるぜ」みたいな感じで、何でもできそうな気がするくらいやる気に満ちあふれるんですよね。</p>
</blockquote>
<blockquote>
  <p>行動を書き出してみると何がダメかよくわかるんですけど、 家帰って最初に一息ついた時点で割と詰んでるんですよね。</p>
</blockquote>
<p>まあ、そのとおりなんだよね。</p>
<p>会社にMacbook Airでも持っていって、
  帰りに作業するのも割りとアリなライフハックなんじゃないかと
  思うこともある。
  そうすると、どういう生活リズムにするかが問題になりそうだ。
  すぐにいろいろ崩してしまいそうだ。</p>
<p>かといって、今のような繁忙期に第二の行動が取れるかというと、
  かなり微妙なところだ。まあ、テスト工程にも入ってるし、
  そのうちおわるんだろうけど。</p>
<p>−−&#8212;</p>
<p>Stack Overflowを眺めていると、こんなStackExchangeがあることに気がついた</p>
<p><a href="https://codegolf.stackexchange.com/">codegolf</a></p>
<p>なんでもコードの短さを争うプログラミング種目(?)のようだ。
  コードの短さを競うところから、点数が低いほうを勝者とする
  ゴルフにあやかって、この競技名がついたみたい。</p>
<p>僕がみていたのはこんなのとか</p>
<p><a href="https://codegolf.stackexchange.com/questions/156154/print-hey-jude-from-the-beatles">Print “Hey Jude” from The Beatles</a></p>
<p>code golf用の<a href="https://github.com/Adriandmen/05AB1E">プログラミング言語</a> もあるようなんだけど、
  やっぱり参考になるのはJavascriptとかRubyとかかなあ。
  参考になりそうでならないような感じなんだけども。</p>
<h2>Testnet</h2>
<span class="timestamp">[2018-03-09 Fri]</span>
<p>Mastering Bitcoinをしばらく読んでいる。</p>
<p>今後何かしら実験することがあるかもしれないが、
  そのときに実稼働しているBitcoinで取引するのは
  気が引ける。</p>
<p>そのためにTestnetというテスト網があるようだ。</p>
<p><a href="https://en.bitcoin.it/wiki/Testnet">Testnet | Bicoinwiki</a></p>
<p>こいつを使うと、実害なくウォレットを実装できるかもしれない。</p>
<h2>サボタージュ</h2>
<span class="timestamp">[2018-03-19 Mon]</span>
<p>油断するとすぐにサボってしまう。</p>
<p>Mastering Bitcoinを読了し、拾い読みをしている。
  別の書籍に手をだすのもありだが..
  今のところはGoogleにたより、情報源を色々拾っていきたいところ。
  たまにQiitaには驚くような質の文書が投稿されていて、非常に参考になる。
  一体彼らのモチベーションはどこからきているのだろうか。</p>
<h2>日付まわり</h2>
<span class="timestamp">[2018-03-24 Sat]</span>
<p>Railsで日付まわりを操作するときに、いつも秒を定義して、たとえば</p>
<pre class="src">
DAY_IN_SEC = 60 * 60 * 24 # 行頭で定義
Time.now - 10 * DAY_IN_SEC
</pre>
<p>ってな感じで実装してたんだけど、おせっかいなRailsなんだし、
  何かあるだろうと思ってみたら、あった。</p>
<p><a href="https://qiita.com/ykyk1218/items/d5086dcb7618d4f918ec">すぐ忘れるので、RubyとRailsの日付操作周りについてまとめました | Qiita</a></p>
<p>こりゃあ便利だ。
  特に意外と使いみちがあるのは</p>
<pre class="src">
Time.zone.now.ago(10.days).beginning_of_day
</pre>
<p>みたいなやつだ。その日の <code>0:00:00</code> を返してくれる。</p>
<p>ここんとこの計算が毎回面倒だったんだよね。</p>
<h2>bitcoinj</h2>
<span class="timestamp">[2018-03-25 Sun]</span>
<p>JavaでBitcoin関連のライブラリないかな、と探していた。
  Androidでちょっと実験できたらいいな、と思ってみたり。</p>
<p>たどり着いたのは以下のbitcoinjというライブラリ</p>
<ul>
  <li>ドキュメント: https://bitcoinj.github.io/</li>
  <li>github: https://github.com/bitcoinj/bitcoinj</li>
</ul>
<p>ウォレットの参照実装がほしかったんだけど、
  JavaFXで実装されたものがあるようだ。</p>
<p>https://github.com/bitcoinj/wallet-template</p>
<p>こいつを <code>mvn</code> コマンドでビルドしてみる。
  が、エラーでビルドが通らない。</p>
<p>pom.xmlのパッケージ名に誤りがあるようだ。
  64行目あたりで以下のように変更を加える。</p>
<pre class="src">
  &lt;dependency&gt;
      &lt;groupId&gt;org.bitcoinj&lt;/groupId&gt;
      &lt;artifactId&gt;bitcoinj-core&lt;/artifactId&gt;
+     &lt;version&gt;0.13-SNAPSHOT&lt;/version&gt;
-      &lt;version&gt;0.13.6&lt;/version&gt;
  &lt;/dependency&gt;
</pre>
<p>追従できてないだけかもしれないな。
  ちなみに0.14.xってのもあったが、こちらはエラーをはいてだめだった。</p>
<p>順番は前後しちゃうんだけど、以下も。</p>
<pre class="src" lang="xml">
<span style="color:#070;font-weight:bold">&lt;configuration&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;minimizeJar&gt;</span>false<span style="color:#070;font-weight:bold">&lt;/minimizeJar&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;filters&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;filter&gt;</span>
            <span style="color:#777">&lt;!-- exclude signatures, the bundling process breaks them for some reason --&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;artifact&gt;</span>*:*<span style="color:#070;font-weight:bold">&lt;/artifact&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;excludes&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;exclude&gt;</span>META-INF/*.SF<span style="color:#070;font-weight:bold">&lt;/exclude&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;exclude&gt;</span>META-INF/*.DSA<span style="color:#070;font-weight:bold">&lt;/exclude&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;exclude&gt;</span>META-INF/*.RSA<span style="color:#070;font-weight:bold">&lt;/exclude&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;/excludes&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/filter&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/filters&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;shadedArtifactAttached&gt;</span>true<span style="color:#070;font-weight:bold">&lt;/shadedArtifactAttached&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;shadedClassifierName&gt;</span>bundled<span style="color:#070;font-weight:bold">&lt;/shadedClassifierName&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;transformers&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;transformer</span> <span style="color:#b48">implementation</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">org.apache.maven.plugins.shade.resource.ManifestResourceTransformer</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
+           <span style="color:#070;font-weight:bold">&lt;mainClass&gt;</span>wallettemplate.Main<span style="color:#070;font-weight:bold">&lt;/mainClass&gt;</span>
-           <span style="color:#070;font-weight:bold">&lt;mainClass&gt;</span>${project.artifactId}.Main<span style="color:#070;font-weight:bold">&lt;/mainClass&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/transformer&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/transformers&gt;</span>
+   <span style="color:#070;font-weight:bold">&lt;outputFile&gt;</span>target/wallettemplate-shaded.jar<span style="color:#070;font-weight:bold">&lt;/outputFile&gt;</span>
-   <span style="color:#070;font-weight:bold">&lt;outputFile&gt;</span>target/${project.artifactId}-shaded.jar<span style="color:#070;font-weight:bold">&lt;/outputFile&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/configuration&gt;</span>
</pre>
<p>ここまで違うとコントリビュートしたほうがいいのかな..
  まあ、でも3年前が最終更新だから仕方ないね。</p>
<p>ここまでして、以下でビルドして動かす。</p>
<pre class="src">
$ mvn package
$ java -jar target/wallettemplate-shaded.jar 
</pre>
    </article>
    
    
    <footer>
      <nav>
	<ul>
	  <li><a href="/">BACK</a></li>
	</ul>
      </nav>
      <p>Copyright 2018</p>
    </footer>
  </body>
</html>

